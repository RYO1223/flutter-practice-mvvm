# flutter-practice-mvvm

Work In Progress

[flutter-architecture-blueprints](https://github.com/wasabeef/flutter-architecture-blueprints/tree/main) をベースにいくつかのライブラリを入れ替えてます

## App architecture

- Base on [MVVM](https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93viewmodel) + [Repository](https://docs.microsoft.com/ja-jp/dotnet/architecture/microservices/microservice-ddd-cqrs-patterns/infrastructure-persistence-layer-design)

## Code Style

- [pedantic_mono](https://pub.dev/packages/pedantic_mono)
- [dart_code_metrics](https://dcm.dev/)

## Assets, Fonts

**If added some assets or fonts**

- Use [FlutterGen](https://github.com/FlutterGen/flutter_gen/)

## Models

**If added some models for api results**

- Use [Freezed](https://pub.dev/packages/freezed)

## Localizations

- Use [easy_localization](https://pub.dev/packages/easy_localization) and [easy_localization_sheet](https://pub.dev/packages/easy_localization_sheet)

## Git Commit message style

- [Semantic Commit Messages](https://gist.github.com/joshbuchea/6f47e86d2510bce28f8e7f42ae84c716)

## Code collections

#### Project settings

| Working status | Category                                                                       | Description                                                                                           | Codes                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| :------------: | ------------------------------------------------------------------------------ | ----------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
|       ✅       | Dart                                                                           | Dart version                                                                                          | [pubspec.yaml](https://github.com/RYO1223/flutter-practice-mvvm/blob/main/pubspec.yaml#L7-L9)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|       ✅       | Dart                                                                           | Switching between Development and Production environment                                              | [flavor.dart](https://github.com/RYO1223/flutter-practice-mvvm/blob/main/lib/foundation/constants.dart), [Makefile](https://github.com/RYO1223/flutter-practice-mvvm/blob/be26dc3f7ff27ee2710326abe8ed09893a35386c/Makefile#L25-L41)                                                                                                                                                                                                                                                                                                                                                                         |
|       ✅       | Dart                                                                           | Lint / Analyze                                                                                        | [analysis_options.yaml](https://github.com/RYO1223/flutter-practice-mvvm/blob/main/analysis_options.yaml)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|       ✅       | Android                                                                        | Kotlin version                                                                                        | [build.gradle](https://github.com/RYO1223/flutter-practice-mvvm/blob/main/android/build.gradle#L2)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|       ✅       | Android                                                                        | Apk attributes                                                                                        | build.gradle ([compileSdkVersion](https://github.com/RYO1223/flutter-practice-mvvm/blob/be26dc3f7ff27ee2710326abe8ed09893a35386c/android/app/build.gradle#L30), [applicationId](https://github.com/RYO1223/flutter-practice-mvvm/blob/be26dc3f7ff27ee2710326abe8ed09893a35386c/android/app/build.gradle#L43), [minSdkVersion](https://github.com/RYO1223/flutter-practice-mvvm/blob/be26dc3f7ff27ee2710326abe8ed09893a35386c/android/app/build.gradle#L44), [targetSdkVersion](https://github.com/RYO1223/flutter-practice-mvvm/blob/be26dc3f7ff27ee2710326abe8ed09893a35386c/android/app/build.gradle#L45)) |
|       ✅       | Android                                                                        | Switching between Development and Production environment                                              | [build.gradle](https://github.com/RYO1223/flutter-practice-mvvm/blob/be26dc3f7ff27ee2710326abe8ed09893a35386c/android/app/build.gradle#L50-L75), [Flavor dirs](https://github.com/wasabeef/flutter-architecture-blueprints/tree/main/android/app/src), [signingConfigs](https://github.com/wasabeef/flutter-architecture-blueprints/tree/main/android/app/signingConfigs)                                                                                                                                                                                                                                    |
|       ✅       | iOS                                                                            | Xcode version                                                                                         | [compatibilityVersion](https://github.com/RYO1223/flutter-practice-mvvm/blob/3ae7135cc040fecf5bbb2100a353f6594037752d/ios/Runner.xcodeproj/project.pbxproj#L182)                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|       ✅       | iOS                                                                            | Podfile                                                                                               | [Podfile](https://github.com/RYO1223/flutter-practice-mvvm/blob/main/ios/Podfile)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|       ✅       | iOS                                                                            | Switching between Development and Production environment                                              | [xcconfig](https://github.com/wasabeef/flutter-architecture-blueprints/tree/main/ios/Config), [Podfile](https://github.com/RYO1223/flutter-practice-mvvm/blob/be26dc3f7ff27ee2710326abe8ed09893a35386c/ios/Podfile#L7-L12)                                                                                                                                                                                                                                                                                                                                                                                   |
|       ❌       | [Firebase](https://firebase.flutter.dev/docs/overview)                         | [Android] Switching between Development and Production google-service.json using flavors              | [development and production](https://github.com/wasabeef/flutter-architecture-blueprints/tree/main/android/app/src)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|       ❌       | [Firebase](https://firebase.flutter.dev/docs/overview)                         | [iOS] Switching between Development and Production GoogleService-Info.plist using run script          | [copy_google_service.sh](https://github.com/RYO1223/flutter-practice-mvvm/blob/main/ios/Scripts/copy_google_service.sh), [development and production](https://github.com/wasabeef/flutter-architecture-blueprints/tree/main/ios/Runner/Resources/Firebase)                                                                                                                                                                                                                                                                                                                                                   |
|       ❌       | [Firebase Auth](https://firebase.flutter.dev/docs/auth/overview)               | SignIn, SignOut                                                                                       | [auth_data_source_impl.dart](https://github.com/RYO1223/flutter-practice-mvvm/blob/main/lib/data/remote/auth_data_source_impl.dart)                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|       ❌       | [Firebase Crashlytics](https://firebase.flutter.dev/docs/crashlytics/overview) | Crash Reports                                                                                         | [main.dart](https://github.com/RYO1223/flutter-practice-mvvm/blob/main/lib/main.dart)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
|       ❌       | [Firebase Performance](https://firebase.flutter.dev/docs/performance/overview) | Network monitoring with [dio_firebase_performance](https://pub.dev/packages/dio_firebase_performance) | [app_dio.dart](https://github.com/RYO1223/flutter-practice-mvvm/blob/eb749c742216088cbf2ff821f463e3de02d7d3b3/lib/data/remote/app_dio.dart#L27-L28)                                                                                                                                                                                                                                                                                                                                                                                                                                                          |

#### Architecture

| Working status | Category       | Description                                                                                      | Codes                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| :------------: | -------------- | ------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|       ✅       | Base           | Using [Riverpod](https://pub.dev/packages/riverpod) + MVVM                                       | [news_page.dart](https://github.com/RYO1223/flutter-practice-mvvm/blob/main/lib/ui/news/news_page.dart), [news_view_model.dart](https://github.com/RYO1223/flutter-practice-mvvm/blob/main/lib/ui/news/news_view_model.dart), [news_page_state.dart](https://github.com/RYO1223/flutter-practice-mvvm/blob/main/lib/ui/news/news_page_state.dart), [news_repository.dart](https://github.com/RYO1223/flutter-practice-mvvm/blob/main/lib/data/repository/news_repository.dart), [news_api_client.dart](https://github.com/RYO1223/flutter-practice-mvvm/blob/main/lib/data/services/api/news_api_client.dart) |
|       ✅       | Networking     | Using [dio](https://pub.dev/packages/dio) and [Retofit](https://pub.dev/packages/retrofit)       | [app_dio.dart](https://github.com/RYO1223/flutter-practice-mvvm/blob/main/lib/data/remote/app_dio.dart), [news_repository.dart](https://github.com/RYO1223/flutter-practice-mvvm/blob/main/lib/data/repository/news_repository.dart), [news_api_client.dart](https://github.com/RYO1223/flutter-practice-mvvm/blob/main/lib/data/services/api/news_api_client.dart)                                                                                                                                                                                                                                           |
|       ✅       | Data           | Using [Freezed](https://pub.dev/packages/freezed)                                                | [model classes](https://github.com/RYO1223/flutter-practice-mvvm/blob/main/lib/data/model)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|       ✅       | Constants      | Define constants and route names                                                                 | [flavor.dart](https://github.com/RYO1223/flutter-practice-mvvm/blob/main/lib/foundation/constants.dart)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|       ✅       | Localization   | Switching languages with [easy_localization](https://pub.dev/packages/easy_localization)         | [\*.json](https://github.com/wasabeef/flutter-architecture-blueprints/tree/main/assets/translations)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|       ✅       | Error handling | Using [AsyncValue](https://pub.dev/documentation/riverpod/latest/riverpod/AsyncValue-class.html) | [news_repository.dart](https://github.com/RYO1223/flutter-practice-mvvm/blob/main/lib/data/repository/news_repository_impl.dart#L16), [home_page.dart](https://github.com/RYO1223/flutter-practice-mvvm/blob/e8f0ed78a62e5b27609e60206bd121295a13faac/lib/ui/home/home_page.dart#L51-L63)                                                                                                                                                                                                                                                                                                                     |

#### UI

| Working status | Category   | Description                                                                                                       | Codes                                                                                                                                                                                                                                                                                                                 |
| :------------: | ---------- | ----------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|       ✅       | Theme      | Staticly Switch between light and dark themes                                                                     | [app_theme.dart](https://github.com/RYO1223/flutter-practice-mvvm/blob/main/lib/app.dart#L15-L17)                                                                                                                                                                                                                     |
|       ❌       | Font       | Using [Google font](https://pub.dev/packages/google_fonts)                                                        | [app_theme.dart](https://github.com/RYO1223/flutter-practice-mvvm/blob/main/lib/ui/theme/app_theme.dart#L40)                                                                                                                                                                                                          |
|       ❌       | Transition | Simple animation between screens using [Hero](https://flutter.dev/docs/development/ui/animations/hero-animations) | [article_item.dart](https://github.com/RYO1223/flutter-practice-mvvm/blob/be26dc3f7ff27ee2710326abe8ed09893a35386c/lib/ui/component/article_item.dart#L28), [detail_page.dart](https://github.com/RYO1223/flutter-practice-mvvm/blob/be26dc3f7ff27ee2710326abe8ed09893a35386c/lib/ui/detail/datail_page.dart#L13-L24) |

#### Testing

| Working status | Category          | Description                                             | Codes                                                                                                                                                                                                                                                                                                                                        |
| :------------: | ----------------- | ------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|       ❌       | API(Repositories) | Using [mocktail](https://github.com/felangel/mocktail)  | [view_mode_test.dart](https://github.com/RYO1223/flutter-practice-mvvm/blob/main/test/ui/view_model_test.dart)                                                                                                                                                                                                                               |
|       ❌       | UI                | Using [mocktail](https://github.com/felangel/mocktail)  | [widget_test.dart](https://github.com/RYO1223/flutter-practice-mvvm/blob/main/test/ui/widget_test.dart)                                                                                                                                                                                                                                      |
|       ❌       | Coverage reports  | Send the report to [Codecov](https://codecov.io/) on CI | [codecov.yml](https://github.com/RYO1223/flutter-practice-mvvm/blob/main/codecov.yml), [codecov.sh](https://github.com/RYO1223/flutter-practice-mvvm/blob/main/scripts/codecov.sh), [flutte-ci.yml](https://github.com/RYO1223/flutter-practice-mvvm/blob/8e2a373af5e4603aaa75d3c9b9af8150400ab46e/.github/workflows/flutter-ci.yml#L66-L71) |

#### CI

| Working status | Category | Description                                                 | Codes                                                                                                                                                                                  |
| :------------: | -------- | ----------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|       ❌       | Git      | Git hooks for format and analyze                            | [package.json](https://github.com/RYO1223/flutter-practice-mvvm/blob/main/package.json#L4-L11), [Makefile](https://github.com/RYO1223/flutter-practice-mvvm/blob/main/Makefile#L9-L12) |
|       ❌       | Git      | .gitignore settings                                         | [.gitignore](https://github.com/RYO1223/flutter-practice-mvvm/blob/main/.gitignore)                                                                                                    |
|       ❌       | Build    | Using [Codemagic](https://codemagic.io/)                    | [codemagic.yaml](https://github.com/RYO1223/flutter-practice-mvvm/blob/main/codemagic.yaml)                                                                                            |
|       ❌       | Build    | Using [Bitrise](https://www.bitrise.io/)                    | [bitrise.yml](https://github.com/RYO1223/flutter-practice-mvvm/blob/main/bitrise.yml)                                                                                                  |
|       ❌       | Build    | Using [Github Actions](https://github.com/features/actions) | [.github/workflows/flutter-ci.yml](https://github.com/RYO1223/flutter-practice-mvvm/blob/main/.github/workflows/flutter-ci.yml)                                                        |

## Special Thanks.

- [News API](https://newsapi.org/)
- [flutter-architecture-blueprints](https://github.com/wasabeef/flutter-architecture-blueprints/tree/main)
